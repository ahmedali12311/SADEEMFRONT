{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{jwtDecode}from'jwt-decode';// Correct import for jwt-decode\nimport'../css/Navbar.css';import logo from'../css/vendor.jpg';import defaultImage from'../css/vendor.jpg';import{useOrderUpdate}from'./OrderUpdateContext';// Import the custom hook\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=_ref=>{let{initialCartItems,onCartItemsChange,refreshCart}=_ref;const[userRole,setUserRole]=useState(null);const[isTransparent,setIsTransparent]=useState(false);const[cartDropdownVisible,setCartDropdownVisible]=useState(false);const[cartItems,setCartItems]=useState(initialCartItems||[]);const[cart,setCart]=useState(initialCartItems||[]);const[cartDescription,setCartDescription]=useState('');const[initialCartDescription,setInitialCartDescription]=useState('');// State to store the initial description\nconst[errorMessage,setErrorMessage]=useState(null);const[removalErrorMessage,setRemovalErrorMessage]=useState(null);const[successMessage,setSuccessMessage]=useState(null);// Success message state\nconst[totalPrice,setTotalPrice]=useState(0);const[totalQuantity,setTotalQuantity]=useState(0);const[loadingCartItems,setLoadingCartItems]=useState(false);const[loadingCheckout,setLoadingCheckout]=useState(false);const navigate=useNavigate();const dropdownRef=useRef(null);const{setShouldUpdateOrders}=useOrderUpdate();// Use the context\nuseEffect(()=>{fetchCartItems();},[refreshCart]);useEffect(()=>{const token=localStorage.getItem('token');if(token){try{const decodedToken=jwtDecode(token);const currentTime=Date.now()/1000;if(decodedToken.exp<currentTime){localStorage.removeItem('token');setUserRole(null);}else{setUserRole(decodedToken.userRole);fetchCartItems();}}catch(error){console.error('Error decoding token:',error);localStorage.removeItem('token');setUserRole(null);}}},[]);useEffect(()=>{const handleScroll=()=>{setIsTransparent(window.scrollY>50);};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[]);useEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setCartDropdownVisible(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const fetchCartItems=async()=>{const token=localStorage.getItem('token');if(!token)return;try{var _cartData$cart,_cartData$cart2,_cartData$cart3,_cartData$cart4;const[itemsResponse,cartResponse]=await Promise.all([fetch('http://localhost:8080/cartitems',{headers:{'Authorization':`Bearer ${token}`}}),fetch('http://localhost:8080/carts',{headers:{'Authorization':`Bearer ${token}`}})]);if(!itemsResponse.ok||!cartResponse.ok){throw new Error('You must have a table to checkout!');}const itemsData=await itemsResponse.json();setCartItems(itemsData.cart||[]);const cartData=await cartResponse.json();setCart(cartData);setCartDescription(((_cartData$cart=cartData.cart)===null||_cartData$cart===void 0?void 0:_cartData$cart.description)||'');// Update cart description\nsetInitialCartDescription(((_cartData$cart2=cartData.cart)===null||_cartData$cart2===void 0?void 0:_cartData$cart2.description)||'');// Set the initial description\nsetTotalPrice(((_cartData$cart3=cartData.cart)===null||_cartData$cart3===void 0?void 0:_cartData$cart3.total_price)||0);// Update total price\nsetTotalQuantity(((_cartData$cart4=cartData.cart)===null||_cartData$cart4===void 0?void 0:_cartData$cart4.quantity)||0);// Update total quantity\n}catch(error){console.error('Error fetching cart items:',error);}finally{setLoadingCartItems(false);}};const deleteCart=async id=>{try{const token=localStorage.getItem('token');if(!token){throw new Error('Token is missing');}const cartResponse=await fetch(`http://localhost:8080/carts/${id}`,{method:'DELETE',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});if(!cartResponse.ok){const errorData=await cartResponse.json();console.error('Error response from server:',errorData);throw new Error(`Failed to delete cart: ${errorData.error.role||'Unknown error'}`);}console.log('Cart deleted successfully');setCartItems([]);setTotalPrice(0);setTotalQuantity(0);}catch(error){console.error('Error deleting cart:',error);setErrorMessage('Error deleting cart. Please try again.');}finally{setLoadingCartItems(false);}};const handleSignOut=()=>{localStorage.removeItem('token');setUserRole(null);navigate('/signin');};const toggleCartDropdown=()=>{setCartDropdownVisible(prev=>!prev);setErrorMessage(null);setRemovalErrorMessage(null);};const handleCartDescriptionChange=e=>{const value=e.target.value;if(value.length<=100){setCartDescription(value);setErrorMessage(null);// Clear error if it's within the limit\n}else{setErrorMessage('Description cannot exceed 100 characters.');}};const updateCartDescription=async()=>{if(cartDescription.length>100){setErrorMessage('Description cannot exceed 100 characters.');return;// Prevent updating if the description is too long\n}const token=localStorage.getItem('token');try{const response=await fetch(`http://localhost:8080/carts/${cart.cart.id}`,{method:'PUT',headers:{'Content-Type':'application/x-www-form-urlencoded','Authorization':`Bearer ${token}`},body:new URLSearchParams({description:cartDescription// Update only description\n}).toString()});if(!response.ok){throw new Error('Network response was not ok');}await fetchCartItems();// Refresh cart items after updating description\nsetSuccessMessage('Cart updated successfully!');// Set success message\nsetInitialCartDescription(cartDescription);// Update the initial description to the new one\nsetTimeout(()=>setSuccessMessage(null),3000);// Clear success message after 3 seconds\n}catch(error){setErrorMessage('Error updating description. Please try again.');console.error('Error updating cart description:',error);}};const updateCartItemQuantity=async(itemId,newQuantity)=>{if(newQuantity<1)return;setErrorMessage(null);try{const token=localStorage.getItem('token');const response=await fetch(`http://localhost:8080/cartitems/${itemId}`,{method:'PUT',headers:{'Content-Type':'application/x-www-form-urlencoded','Authorization':`Bearer ${token}`},body:new URLSearchParams({item_id:itemId,quantity:newQuantity}).toString()});if(!response.ok){throw new Error('Network response was not ok');}await fetchCartItems();}catch(error){setErrorMessage('Error updating quantity. Please try again.');console.error('Error updating cart item:',error);}};const deleteCartItem=async itemId=>{try{const token=localStorage.getItem('token');const response=await fetch(`http://localhost:8080/cartitems/${itemId}`,{method:'DELETE',headers:{'Content-Type':'application/x-www-form-urlencoded','Authorization':`Bearer ${token}`}});if(!response.ok){throw new Error('Network response was not ok');}console.log('Item deleted successfully');await fetchCartItems();}catch(error){setRemovalErrorMessage('Error removing item. Please try again.');console.error('Error deleting cart item:',error);}};const handleCheckout=async()=>{setLoadingCheckout(true);try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:8080/checkout',{method:'POST',headers:{'Authorization':`Bearer ${token}`}});if(!response.ok){const errorData=await response.json();throw new Error(errorData.errors?JSON.stringify(errorData.errors):'Network response was not ok');}console.log('Checkout successful');setCartItems([]);setShouldUpdateOrders(true);// Notify context that orders need to be updated\nwindow.location.reload();// Refresh the page\n}catch(error){console.error('Error during checkout:',error);setErrorMessage(error.message);}finally{setLoadingCheckout(false);}};return/*#__PURE__*/_jsxs(\"nav\",{className:`navbar ${isTransparent?'transparent':''}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\"})}),/*#__PURE__*/_jsx(\"ul\",{className:\"center-links\",children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"end-links\",children:[userRole===\"1\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/add-vendor\",children:\"Add Vendor\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/users\",children:\"Users\"})})]}),userRole?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/orders\",children:\"Orders\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleCartDropdown,disabled:loadingCartItems,children:loadingCartItems?'Loading Cart...':'Cart'}),cartDropdownVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"cart-dropdown\",ref:dropdownRef,children:[loadingCartItems?/*#__PURE__*/_jsx(\"p\",{children:\"Loading cart items...\"}):cartItems.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No items in cart\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"cart-list\",children:cartItems.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-img\",children:/*#__PURE__*/_jsx(\"img\",{src:item.img||defaultImage,alt:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-name\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-quantity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateCartItemQuantity(item.item_id,item.quantity-1),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateCartItemQuantity(item.item_id,item.quantity+1),children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteCartItem(item.item_id),className:\"removebutton\",children:\"Remove\"})]},item.item_id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Quantity: \",totalQuantity]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Price: $\",totalPrice.toFixed(2)]})]})]}),totalQuantity>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"cart-description\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:cartDescription,onChange:handleCartDescriptionChange,placeholder:\"Write a description for your cart...\",rows:\"3\",maxLength:\"100\"}),/*#__PURE__*/_jsxs(\"p\",{children:[cartDescription.length,\"/100\"]}),\" \"]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:successMessage}),removalErrorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:removalErrorMessage}),cartDescription!==initialCartDescription&&/*#__PURE__*/_jsx(\"button\",{onClick:updateCartDescription,disabled:loadingCartItems,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCheckout,disabled:loadingCheckout,children:loadingCheckout?'Processing Checkout...':'Checkout'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteCart(cart.cart.id),disabled:loadingCartItems,className:\"removebutton\",children:\"Delete Cart\"})]})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,children:\"Sign Out\"})})]}):/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Sign In\"})})]})]});};export default Navbar;","map":{"version":3,"names":["React","useEffect","useRef","useState","Link","useNavigate","jwtDecode","logo","defaultImage","useOrderUpdate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","_ref","initialCartItems","onCartItemsChange","refreshCart","userRole","setUserRole","isTransparent","setIsTransparent","cartDropdownVisible","setCartDropdownVisible","cartItems","setCartItems","cart","setCart","cartDescription","setCartDescription","initialCartDescription","setInitialCartDescription","errorMessage","setErrorMessage","removalErrorMessage","setRemovalErrorMessage","successMessage","setSuccessMessage","totalPrice","setTotalPrice","totalQuantity","setTotalQuantity","loadingCartItems","setLoadingCartItems","loadingCheckout","setLoadingCheckout","navigate","dropdownRef","setShouldUpdateOrders","fetchCartItems","token","localStorage","getItem","decodedToken","currentTime","Date","now","exp","removeItem","error","console","handleScroll","window","scrollY","addEventListener","removeEventListener","handleClickOutside","event","current","contains","target","document","_cartData$cart","_cartData$cart2","_cartData$cart3","_cartData$cart4","itemsResponse","cartResponse","Promise","all","fetch","headers","ok","Error","itemsData","json","cartData","description","total_price","quantity","deleteCart","id","method","errorData","role","log","handleSignOut","toggleCartDropdown","prev","handleCartDescriptionChange","e","value","length","updateCartDescription","response","body","URLSearchParams","toString","setTimeout","updateCartItemQuantity","itemId","newQuantity","item_id","deleteCartItem","handleCheckout","errors","JSON","stringify","location","reload","message","className","children","src","alt","to","onClick","disabled","ref","map","item","img","name","toFixed","onChange","placeholder","rows","maxLength"],"sources":["C:/Users/oG_Ju/OneDrive/Desktop/SadeemVendorapp/frontend/src/components/navbar.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { jwtDecode } from 'jwt-decode'; // Correct import for jwt-decode\r\nimport '../css/Navbar.css';\r\nimport logo from '../css/vendor.jpg';\r\nimport defaultImage from '../css/vendor.jpg';\r\nimport { useOrderUpdate } from './OrderUpdateContext'; // Import the custom hook\r\n\r\nconst Navbar = ({ initialCartItems, onCartItemsChange, refreshCart }) => {\r\n    const [userRole, setUserRole] = useState(null);\r\n    const [isTransparent, setIsTransparent] = useState(false);\r\n    const [cartDropdownVisible, setCartDropdownVisible] = useState(false);\r\n    const [cartItems, setCartItems] = useState(initialCartItems || []);\r\n    const [cart, setCart] = useState(initialCartItems || []);\r\n    const [cartDescription, setCartDescription] = useState('');\r\n    const [initialCartDescription, setInitialCartDescription] = useState(''); // State to store the initial description\r\n    const [errorMessage, setErrorMessage] = useState(null);\r\n    const [removalErrorMessage, setRemovalErrorMessage] = useState(null);\r\n    const [successMessage, setSuccessMessage] = useState(null); // Success message state\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n    const [totalQuantity, setTotalQuantity] = useState(0);\r\n    const [loadingCartItems, setLoadingCartItems] = useState(false);\r\n    const [loadingCheckout, setLoadingCheckout] = useState(false);\r\n    const navigate = useNavigate();\r\n    const dropdownRef = useRef(null);\r\n    const { setShouldUpdateOrders } = useOrderUpdate(); // Use the context\r\n\r\n    useEffect(() => {\r\n        fetchCartItems();\r\n    }, [refreshCart]);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            try {\r\n                const decodedToken = jwtDecode(token);\r\n                const currentTime = Date.now() / 1000;\r\n                if (decodedToken.exp < currentTime) {\r\n                    localStorage.removeItem('token');\r\n                    setUserRole(null);\r\n                } else {\r\n                    setUserRole(decodedToken.userRole);\r\n                    fetchCartItems();\r\n                }\r\n            } catch (error) {\r\n                console.error('Error decoding token:', error);\r\n                localStorage.removeItem('token');\r\n                setUserRole(null);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const handleScroll = () => {\r\n            setIsTransparent(window.scrollY > 50);\r\n        };\r\n\r\n        window.addEventListener('scroll', handleScroll);\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n                setCartDropdownVisible(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const fetchCartItems = async () => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) return;\r\n\r\n        try {\r\n            const [itemsResponse, cartResponse] = await Promise.all([\r\n                fetch('http://localhost:8080/cartitems', {\r\n                    headers: { 'Authorization': `Bearer ${token}` }\r\n                }),\r\n                fetch('http://localhost:8080/carts', {\r\n                    headers: { 'Authorization': `Bearer ${token}` }\r\n                })\r\n            ]);\r\n\r\n            if (!itemsResponse.ok || !cartResponse.ok) {\r\n                throw new Error('You must have a table to checkout!');\r\n            }\r\n\r\n            const itemsData = await itemsResponse.json();\r\n            setCartItems(itemsData.cart || []);\r\n\r\n            const cartData = await cartResponse.json();\r\n            setCart(cartData);\r\n            setCartDescription(cartData.cart?.description || ''); // Update cart description\r\n            setInitialCartDescription(cartData.cart?.description || ''); // Set the initial description\r\n            setTotalPrice(cartData.cart?.total_price || 0); // Update total price\r\n            setTotalQuantity(cartData.cart?.quantity || 0); // Update total quantity\r\n\r\n        } catch (error) {\r\n            console.error('Error fetching cart items:', error);\r\n        } finally {\r\n            setLoadingCartItems(false);\r\n        }\r\n    };\r\n\r\n    const deleteCart = async (id) => {\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            if (!token) {\r\n                throw new Error('Token is missing');\r\n            }\r\n\r\n            const cartResponse = await fetch(`http://localhost:8080/carts/${id}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            });\r\n\r\n            if (!cartResponse.ok) {\r\n                const errorData = await cartResponse.json();\r\n                console.error('Error response from server:', errorData);\r\n                throw new Error(`Failed to delete cart: ${errorData.error.role || 'Unknown error'}`);\r\n            }\r\n\r\n            console.log('Cart deleted successfully');\r\n            setCartItems([]);\r\n            setTotalPrice(0);\r\n            setTotalQuantity(0);\r\n\r\n        } catch (error) {\r\n            console.error('Error deleting cart:', error);\r\n            setErrorMessage('Error deleting cart. Please try again.');\r\n        } finally {\r\n            setLoadingCartItems(false);\r\n        }\r\n    };\r\n\r\n    const handleSignOut = () => {\r\n        localStorage.removeItem('token');\r\n        setUserRole(null);\r\n        navigate('/signin');\r\n    };\r\n\r\n    const toggleCartDropdown = () => {\r\n        setCartDropdownVisible(prev => !prev);\r\n        setErrorMessage(null);\r\n        setRemovalErrorMessage(null);\r\n    };\r\n\r\n    const handleCartDescriptionChange = (e) => {\r\n        const value = e.target.value;\r\n        if (value.length <= 100) {\r\n            setCartDescription(value);\r\n            setErrorMessage(null); // Clear error if it's within the limit\r\n        } else {\r\n            setErrorMessage('Description cannot exceed 100 characters.');\r\n        }\r\n    };\r\n\r\n    const updateCartDescription = async () => {\r\n        if (cartDescription.length > 100) {\r\n            setErrorMessage('Description cannot exceed 100 characters.');\r\n            return; // Prevent updating if the description is too long\r\n        }\r\n\r\n        const token = localStorage.getItem('token');\r\n        try {\r\n            const response = await fetch(`http://localhost:8080/carts/${cart.cart.id}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: new URLSearchParams({\r\n                    description: cartDescription // Update only description\r\n                }).toString()\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n\r\n            await fetchCartItems(); // Refresh cart items after updating description\r\n            setSuccessMessage('Cart updated successfully!'); // Set success message\r\n            setInitialCartDescription(cartDescription); // Update the initial description to the new one\r\n            setTimeout(() => setSuccessMessage(null), 3000); // Clear success message after 3 seconds\r\n\r\n        } catch (error) {\r\n            setErrorMessage('Error updating description. Please try again.');\r\n            console.error('Error updating cart description:', error);\r\n        }\r\n    };\r\n\r\n    const updateCartItemQuantity = async (itemId, newQuantity) => {\r\n        if (newQuantity < 1) return;\r\n\r\n        setErrorMessage(null);\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const response = await fetch(`http://localhost:8080/cartitems/${itemId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: new URLSearchParams({ item_id: itemId, quantity: newQuantity }).toString()\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n\r\n            await fetchCartItems();\r\n        } catch (error) {\r\n            setErrorMessage('Error updating quantity. Please try again.');\r\n            console.error('Error updating cart item:', error);\r\n        }\r\n    };\r\n\r\n    const deleteCartItem = async (itemId) => {\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const response = await fetch(`http://localhost:8080/cartitems/${itemId}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n\r\n            console.log('Item deleted successfully');\r\n            await fetchCartItems();\r\n        } catch (error) {\r\n            setRemovalErrorMessage('Error removing item. Please try again.');\r\n            console.error('Error deleting cart item:', error);\r\n        }\r\n    };\r\n\r\n    const handleCheckout = async () => {\r\n        setLoadingCheckout(true);\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const response = await fetch('http://localhost:8080/checkout', {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.errors ? JSON.stringify(errorData.errors) : 'Network response was not ok');\r\n            }\r\n\r\n            console.log('Checkout successful');\r\n            setCartItems([]);\r\n            setShouldUpdateOrders(true); // Notify context that orders need to be updated\r\n            window.location.reload(); // Refresh the page\r\n        } catch (error) {\r\n            console.error('Error during checkout:', error);\r\n            setErrorMessage(error.message);\r\n        } finally {\r\n            setLoadingCheckout(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <nav className={`navbar ${isTransparent ? 'transparent' : ''}`}>\r\n            <div className=\"logo\">\r\n                <img src={logo} alt=\"Logo\" />\r\n            </div>\r\n            <ul className=\"center-links\">\r\n                <li><Link to=\"/\">Home</Link></li>\r\n            </ul>\r\n            <ul className=\"end-links\">\r\n                {userRole === \"1\" && (\r\n                    <>\r\n                        <li><Link to=\"/add-vendor\">Add Vendor</Link></li>\r\n                        <li><Link to=\"/users\">Users</Link></li>\r\n                    </>\r\n                )}\r\n                {userRole ? (\r\n                    <>\r\n                        <li><Link to=\"/profile\">Profile</Link></li>\r\n                        <li><Link to=\"/orders\">Orders</Link></li>\r\n                        <li>\r\n                            <button onClick={toggleCartDropdown} disabled={loadingCartItems}>\r\n                                {loadingCartItems ? 'Loading Cart...' : 'Cart'}\r\n                            </button>\r\n                            {cartDropdownVisible && (\r\n                                <div className=\"cart-dropdown\" ref={dropdownRef}>\r\n                                    {loadingCartItems ? (\r\n                                        <p>Loading cart items...</p>\r\n                                    ) : cartItems.length === 0 ? (\r\n                                        <p>No items in cart</p>\r\n                                    ) : (\r\n                                        <>\r\n                                            <ul className=\"cart-list\">\r\n                                                {cartItems.map(item => (\r\n                                                    <li key={item.item_id} className=\"cart-item\">\r\n                                                        <div className=\"cart-item-img\">\r\n                                                            <img src={item.img || defaultImage} alt={item.name} />\r\n                                                        </div>\r\n                                                        <div className=\"cart-item-name\">{item.name}</div>\r\n                                                        <div className=\"cart-item-quantity\">\r\n                                                            <button onClick={() => updateCartItemQuantity(item.item_id, item.quantity - 1)}>-</button>\r\n                                                            <span>{item.quantity}</span>\r\n                                                            <button onClick={() => updateCartItemQuantity(item.item_id, item.quantity + 1)}>+</button>\r\n                                                        </div>\r\n                                                        <button onClick={() => deleteCartItem(item.item_id)} className='removebutton'>Remove</button>\r\n                                                    </li>\r\n                                                ))}\r\n                                            </ul>\r\n                                            <div className=\"cart-summary\">\r\n                                                <p>Total Quantity: {totalQuantity}</p>\r\n                                                <p>Total Price: ${totalPrice.toFixed(2)}</p>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                                                    {totalQuantity > 0 && (\r\n\r\n                                    <div className=\"cart-description\">\r\n                                        <textarea\r\n                                            value={cartDescription}\r\n                                            onChange={handleCartDescriptionChange}\r\n                                            placeholder=\"Write a description for your cart...\"\r\n                                            rows=\"3\"\r\n                                            maxLength=\"100\"\r\n                                        />\r\n                                        <p>{cartDescription.length}/100</p> {/* Character count */}\r\n                                    </div>\r\n                                                                    )}\r\n                                    {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n                                    {successMessage && <p className=\"success-message\">{successMessage}</p>}\r\n                                    {removalErrorMessage && <p className=\"error-message\">{removalErrorMessage}</p>}\r\n                                    \r\n                                    {/* Show Save button only if the cart description has changed */}\r\n                                    {cartDescription !== initialCartDescription && (\r\n                                        <button onClick={updateCartDescription} disabled={loadingCartItems}>\r\n                                            Save\r\n                                        </button>\r\n                                    )}\r\n\r\n                                    <button onClick={handleCheckout} disabled={loadingCheckout}>\r\n                                        {loadingCheckout ? 'Processing Checkout...' : 'Checkout'}\r\n                                    </button>\r\n                                    <button onClick={() => deleteCart(cart.cart.id)} disabled={loadingCartItems} className='removebutton'>\r\n                                        Delete Cart\r\n                                    </button>\r\n                                </div>\r\n                            )}\r\n                        </li>\r\n                        <li><button onClick={handleSignOut}>Sign Out</button></li>\r\n                    </>\r\n                ) : (\r\n                    <li><Link to=\"/signin\">Sign In</Link></li>\r\n                )}\r\n            </ul>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}