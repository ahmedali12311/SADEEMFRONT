{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oG_Ju\\\\OneDrive\\\\Desktop\\\\SadeemVendors-master\\\\frontend\\\\src\\\\components\\\\vendordetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport '../css/vendordetails.css';\nimport defaultimage from './vendor.jpg';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction VendorDetails() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [vendor, setVendor] = useState(null);\n  const [admins, setAdmins] = useState([]);\n  const [tables, setTables] = useState([]);\n  const [items, setItems] = useState([]);\n  const [newAdminEmail, setNewAdminEmail] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [userRole, setUserRole] = useState(null);\n  const [currentUserId, setCurrentUserId] = useState(null);\n  const imageRef = useRef(null);\n  const fetchVendorDetails = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendors/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        setError(errorData.error || 'Failed to fetch vendor details');\n        return;\n      }\n      const data = await response.json();\n      setVendor(data.vendor);\n    } catch {\n      setError('An unexpected error occurred while fetching vendor details');\n    }\n  }, [id]);\n  const fetchUserRole = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:8080/me', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      setUserRole(data.me.user_role);\n      setCurrentUserId(data.me.id);\n    } catch {\n      setError('An unexpected error occurred while fetching user role');\n    }\n  }, []);\n  const fetchVendorAdmins = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendors/${id}/admins`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      setAdmins(data.vendor_admin || []);\n    } catch {\n      setError('An unexpected error occurred while fetching vendor admins');\n    }\n  }, [id]);\n  const fetchVendorTables = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendor/${id}/tables`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      setTables(data.tables || []);\n    } catch {\n      setError('An unexpected error occurred while fetching vendor tables');\n    }\n  }, [id]);\n  const fetchVendorItems = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendor/${id}/items`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      setItems(data.items || []);\n    } catch {\n      setError('An unexpected error occurred while fetching vendor items');\n    }\n  }, [id]);\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetchVendorDetails();\n      await fetchUserRole();\n      await fetchVendorAdmins();\n      await fetchVendorTables();\n      await fetchVendorItems();\n    };\n    fetchData();\n  }, [fetchVendorDetails, fetchUserRole, fetchVendorAdmins, fetchVendorTables, fetchVendorItems]);\n  const handleOccupyTable = async tableId => {\n    if (tables.filter(table => table.customer_id === currentUserId).length >= 1) {\n      setError('You can only assign one table at a time.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendor/${id}/tables/${tableId}/needs-service`, {\n        method: 'PUT',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        setError(errorData.error || 'Failed to occupy the table');\n        return;\n      }\n      setTables(prevTables => prevTables.map(table => table.id === tableId ? {\n        ...table,\n        is_available: false,\n        is_needs_service: true,\n        customer_id: currentUserId\n      } : table));\n    } catch {\n      setError('An unexpected error occurred while occupying the table');\n    }\n  };\n  const handleFreeTable = async tableId => {\n    const table = tables.find(t => t.id === tableId);\n    if (!table || table.customer_id !== currentUserId) {\n      setError('You can only free the table you have assigned.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendor/${id}/tables/${tableId}/freetable`, {\n        method: 'PUT',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        setError(errorData.error || 'Failed to free the table');\n        return;\n      }\n      setTables(prevTables => prevTables.map(table => table.id === tableId ? {\n        ...table,\n        is_available: true,\n        is_needs_service: false,\n        customer_id: null\n      } : table));\n    } catch {\n      setError('An unexpected error occurred while freeing the table');\n    }\n  };\n  const handleVendorFreeTable = async tableId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendor/${id}/freetable/${tableId}`, {\n        method: 'PUT',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        setError(errorData.error || 'Failed to free the table');\n        return;\n      }\n      setTables(prevTables => prevTables.map(table => table.id === tableId ? {\n        ...table,\n        is_available: true,\n        is_needs_service: false,\n        customer_id: null\n      } : table));\n    } catch {\n      setError('An unexpected error occurred while freeing the table');\n    }\n  };\n  const handleUpdateNeedsService = async (tableId, isNeedsService) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendor/${id}/table/${tableId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n          Authorization: `Bearer ${token}`\n        },\n        body: new URLSearchParams({\n          is_needs_service: isNeedsService\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        setError(errorData.error || 'Failed to update needs service status');\n        return;\n      }\n      setTables(prevTables => prevTables.map(table => table.id === tableId ? {\n        ...table,\n        is_needs_service: isNeedsService\n      } : table));\n    } catch {\n      setError('An unexpected error occurred while updating the needs service status');\n    }\n  };\n  const handleAddAdmin = async () => {\n    if (!newAdminEmail) {\n      setError('Please enter an email address');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendors/${id}/admins`, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: newAdminEmail\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        setError(errorData.error || 'Failed to add admin');\n        return;\n      }\n      setNewAdminEmail('');\n      fetchVendorAdmins(); // Refresh the admin list\n    } catch {\n      setError('An unexpected error occurred while adding the admin');\n    }\n  };\n  const handleRemoveAdmin = async userId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:8080/vendors/${id}/admins/${userId}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        setError(errorData.error || 'Failed to remove admin');\n        return;\n      }\n      fetchVendorAdmins(); // Refresh the admin list\n    } catch {\n      setError('An unexpected error occurred while removing the admin');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vendor-details-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vendor-background\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (vendor === null || vendor === void 0 ? void 0 : vendor.img) || defaultimage,\n          alt: (vendor === null || vendor === void 0 ? void 0 : vendor.name) || 'Vendor',\n          className: \"vendor-background-image\",\n          ref: imageRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vendor-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"vendor-name\",\n            children: vendor === null || vendor === void 0 ? void 0 : vendor.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"vendor-description\",\n            children: (vendor === null || vendor === void 0 ? void 0 : vendor.description) || 'No description available'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tables-section card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Tables\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tables-list\",\n          children: tables.map(table => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"table-name\",\n              children: table.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Available: \", table.is_available ? 'Yes' : 'No']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Needs Service: \", table.is_needs_service ? 'Yes' : 'No']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-actions\",\n              children: [table.is_available && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOccupyTable(table.id),\n                children: \"Occupy Table\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 41\n              }, this), table.customer_id === currentUserId && !table.is_available && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleFreeTable(table.id),\n                children: \"Free Table\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 41\n              }, this), userRole === '1' && !table.is_available && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleVendorFreeTable(table.id),\n                  children: \"Release Table\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleUpdateNeedsService(table.id, false),\n                  children: \"Mark as Not Needs Service\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 33\n            }, this)]\n          }, table.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"items-section card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"items-list\",\n          children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.img || defaultimage,\n              alt: item.name,\n              className: \"item-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"item-name\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"item-price\",\n              children: [\"Price: $\", item.price.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"order-button button\",\n              children: \"Order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 33\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admins-section card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Admins\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 21\n        }, this), userRole === '1' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-admin-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: newAdminEmail,\n              onChange: e => setNewAdminEmail(e.target.value),\n              placeholder: \"Admin email\",\n              className: \"admin-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddAdmin,\n              className: \"admin-button\",\n              children: \"Add Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"admins-list\",\n            children: admins.map(admin => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"admin-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: admin.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleRemoveAdmin(admin.user_id),\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 41\n              }, this)]\n            }, admin.user_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 9\n  }, this);\n}\n_s(VendorDetails, \"yYB2jsQGrH9YiUzj04sPS+20d00=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = VendorDetails;\nexport default VendorDetails;\nvar _c;\n$RefreshReg$(_c, \"VendorDetails\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useParams","useNavigate","defaultimage","jsxDEV","_jsxDEV","Fragment","_Fragment","VendorDetails","_s","id","navigate","vendor","setVendor","admins","setAdmins","tables","setTables","items","setItems","newAdminEmail","setNewAdminEmail","error","setError","loading","setLoading","userRole","setUserRole","currentUserId","setCurrentUserId","imageRef","fetchVendorDetails","token","localStorage","getItem","response","fetch","headers","Authorization","ok","errorData","json","data","fetchUserRole","me","user_role","fetchVendorAdmins","vendor_admin","fetchVendorTables","fetchVendorItems","fetchData","handleOccupyTable","tableId","filter","table","customer_id","length","method","prevTables","map","is_available","is_needs_service","handleFreeTable","find","t","handleVendorFreeTable","handleUpdateNeedsService","isNeedsService","body","URLSearchParams","handleAddAdmin","JSON","stringify","email","handleRemoveAdmin","userId","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","img","alt","name","ref","description","onClick","item","price","toFixed","type","value","onChange","e","target","placeholder","admin","user_id","_c","$RefreshReg$"],"sources":["C:/Users/oG_Ju/OneDrive/Desktop/SadeemVendors-master/frontend/src/components/vendordetails.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport '../css/vendordetails.css';\nimport defaultimage from './vendor.jpg';\n\nfunction VendorDetails() {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const [vendor, setVendor] = useState(null);\n    const [admins, setAdmins] = useState([]);\n    const [tables, setTables] = useState([]);\n    const [items, setItems] = useState([]);\n    const [newAdminEmail, setNewAdminEmail] = useState('');\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [userRole, setUserRole] = useState(null);\n    const [currentUserId, setCurrentUserId] = useState(null);\n    const imageRef = useRef(null);\n\n    const fetchVendorDetails = useCallback(async () => {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendors/${id}`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                setError(errorData.error || 'Failed to fetch vendor details');\n                return;\n            }\n\n            const data = await response.json();\n            setVendor(data.vendor);\n        } catch {\n            setError('An unexpected error occurred while fetching vendor details');\n        }\n    }, [id]);\n\n    const fetchUserRole = useCallback(async () => {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch('http://localhost:8080/me', {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            const data = await response.json();\n            setUserRole(data.me.user_role);\n            setCurrentUserId(data.me.id);\n        } catch {\n            setError('An unexpected error occurred while fetching user role');\n        }\n    }, []);\n\n    const fetchVendorAdmins = useCallback(async () => {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendors/${id}/admins`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            const data = await response.json();\n            setAdmins(data.vendor_admin || []);\n        } catch {\n            setError('An unexpected error occurred while fetching vendor admins');\n        }\n    }, [id]);\n\n    const fetchVendorTables = useCallback(async () => {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendor/${id}/tables`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            const data = await response.json();\n            setTables(data.tables || []);\n        } catch {\n            setError('An unexpected error occurred while fetching vendor tables');\n        }\n    }, [id]);\n\n    const fetchVendorItems = useCallback(async () => {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendor/${id}/items`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            const data = await response.json();\n            setItems(data.items || []);\n        } catch {\n            setError('An unexpected error occurred while fetching vendor items');\n        }\n    }, [id]);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            await fetchVendorDetails();\n            await fetchUserRole();\n            await fetchVendorAdmins();\n            await fetchVendorTables();\n            await fetchVendorItems();\n        };\n\n        fetchData();\n    }, [fetchVendorDetails, fetchUserRole, fetchVendorAdmins, fetchVendorTables, fetchVendorItems]);\n\n    const handleOccupyTable = async (tableId) => {\n        if (tables.filter((table) => table.customer_id === currentUserId).length >= 1) {\n            setError('You can only assign one table at a time.');\n            return;\n        }\n\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendor/${id}/tables/${tableId}/needs-service`, {\n                method: 'PUT',\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                setError(errorData.error || 'Failed to occupy the table');\n                return;\n            }\n\n            setTables((prevTables) =>\n                prevTables.map((table) =>\n                    table.id === tableId ? { ...table, is_available: false, is_needs_service: true, customer_id: currentUserId } : table\n                )\n            );\n        } catch {\n            setError('An unexpected error occurred while occupying the table');\n        }\n    };\n\n    const handleFreeTable = async (tableId) => {\n        const table = tables.find((t) => t.id === tableId);\n        if (!table || table.customer_id !== currentUserId) {\n            setError('You can only free the table you have assigned.');\n            return;\n        }\n\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendor/${id}/tables/${tableId}/freetable`, {\n                method: 'PUT',\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                setError(errorData.error || 'Failed to free the table');\n                return;\n            }\n\n            setTables((prevTables) =>\n                prevTables.map((table) =>\n                    table.id === tableId ? { ...table, is_available: true, is_needs_service: false, customer_id: null } : table\n                )\n            );\n        } catch {\n            setError('An unexpected error occurred while freeing the table');\n        }\n    };\n\n    const handleVendorFreeTable = async (tableId) => {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendor/${id}/freetable/${tableId}`, {\n                method: 'PUT',\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                setError(errorData.error || 'Failed to free the table');\n                return;\n            }\n\n            setTables((prevTables) =>\n                prevTables.map((table) =>\n                    table.id === tableId ? { ...table, is_available: true, is_needs_service: false, customer_id: null } : table\n                )\n            );\n        } catch {\n            setError('An unexpected error occurred while freeing the table');\n        }\n    };\n\n    const handleUpdateNeedsService = async (tableId, isNeedsService) => {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendor/${id}/table/${tableId}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                    Authorization: `Bearer ${token}`,\n                },\n                body: new URLSearchParams({ is_needs_service: isNeedsService }),\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                setError(errorData.error || 'Failed to update needs service status');\n                return;\n            }\n\n            setTables((prevTables) =>\n                prevTables.map((table) =>\n                    table.id === tableId ? { ...table, is_needs_service: isNeedsService } : table\n                )\n            );\n        } catch {\n            setError('An unexpected error occurred while updating the needs service status');\n        }\n    };\n\n    const handleAddAdmin = async () => {\n        if (!newAdminEmail) {\n            setError('Please enter an email address');\n            return;\n        }\n\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendors/${id}/admins`, {\n                method: 'POST',\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ email: newAdminEmail }),\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                setError(errorData.error || 'Failed to add admin');\n                return;\n            }\n\n            setNewAdminEmail('');\n            fetchVendorAdmins(); // Refresh the admin list\n        } catch {\n            setError('An unexpected error occurred while adding the admin');\n        }\n    };\n\n    const handleRemoveAdmin = async (userId) => {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`http://localhost:8080/vendors/${id}/admins/${userId}`, {\n                method: 'DELETE',\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                setError(errorData.error || 'Failed to remove admin');\n                return;\n            }\n\n            fetchVendorAdmins(); // Refresh the admin list\n        } catch {\n            setError('An unexpected error occurred while removing the admin');\n        }\n    };\n\n    if (loading) {\n        return <div>Loading...</div>;\n    }\n\n    return (\n        <div className=\"page-container\">\n            <div className=\"vendor-details-container\">\n                <div className=\"vendor-background\">\n                    <img\n                        src={vendor?.img || defaultimage}\n                        alt={vendor?.name || 'Vendor'}\n                        className=\"vendor-background-image\"\n                        ref={imageRef}\n                    />\n                    <div className=\"vendor-info\">\n                        <h1 className=\"vendor-name\">{vendor?.name}</h1>\n                        <p className=\"vendor-description\">{vendor?.description || 'No description available'}</p>\n                    </div>\n                </div>\n                {/* Tables Section */}\n                <div className=\"tables-section card\">\n                    <h2 className=\"section-title\">Tables</h2>\n                    <div className=\"tables-list\">\n                        {tables.map((table) => (\n                            <div key={table.id} className=\"table-card\">\n                                <h3 className=\"table-name\">{table.name}</h3>\n                                <p>Available: {table.is_available ? 'Yes' : 'No'}</p>\n                                <p>Needs Service: {table.is_needs_service ? 'Yes' : 'No'}</p>\n                                <div className=\"table-actions\">\n                                    {table.is_available && (\n                                        <button onClick={() => handleOccupyTable(table.id)}>Occupy Table</button>\n                                    )}\n                                    {table.customer_id === currentUserId && !table.is_available && (\n                                        <button onClick={() => handleFreeTable(table.id)}>Free Table</button>\n                                    )}\n                                    {userRole === '1' && !table.is_available && (\n                                        <>\n                                            <button onClick={() => handleVendorFreeTable(table.id)}>Release Table</button>\n                                            <button onClick={() => handleUpdateNeedsService(table.id, false)}>Mark as Not Needs Service</button>\n                                        </>\n                                    )}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n                {/* Items Section */}\n                <div className=\"items-section card\">\n                    <h2 className=\"section-title\">Items</h2>\n                    <div className=\"items-list\">\n                        {items.map((item) => (\n                            <div key={item.id} className=\"item-card\">\n                                <img src={item.img || defaultimage} alt={item.name} className=\"item-image\" />\n                                <h3 className=\"item-name\">{item.name}</h3>\n                                <p className=\"item-price\">Price: ${item.price.toFixed(2)}</p>\n                                <button className=\"order-button button\">Order</button>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n                {/* Admins Section */}\n                <div className=\"admins-section card\">\n                    <h2 className=\"section-title\">Admins</h2>\n                    {userRole === '1' && (\n                        <>\n                            <div className=\"add-admin-container\">\n                                <input\n                                    type=\"email\"\n                                    value={newAdminEmail}\n                                    onChange={(e) => setNewAdminEmail(e.target.value)}\n                                    placeholder=\"Admin email\"\n                                    className=\"admin-input\"\n                                />\n                                <button onClick={handleAddAdmin} className=\"admin-button\">Add Admin</button>\n                            </div>\n                            <ul className=\"admins-list\">\n                                {admins.map((admin) => (\n                                    <li key={admin.user_id} className=\"admin-item\">\n                                        <span>{admin.email}</span>\n                                        <button onClick={() => handleRemoveAdmin(admin.user_id)}>Remove</button>\n                                    </li>\n                                ))}\n                            </ul>\n                        </>\n                    )}\n                </div>\n            </div>\n            {error && <div className=\"error-message\">{error}</div>}\n        </div>\n    );\n}\n\nexport default VendorDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}